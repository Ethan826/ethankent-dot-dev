<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage">
  <head>
    

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <title>Priors - Ethan Kent&#39;s Blog</title>
  <meta name="description" content="There&rsquo;s a lyric in a They Might Be Giants song:
 Now you&rsquo;re the only one here,
Who can tell me if it&rsquo;s true:
That you love me,
And I love me.1
 The lyric is effective because it uses our expectations of rhyme scheme, parallelism, and reciprocity to have us all but certain that the final line of the verse will end with you. And the surprise serves a purpose: it uses the flouting of our expectations as a way of making us feel the potency of the narrator&rsquo;s self-centeredness.">
  <meta name="author" content="Ethan Kent"/><script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "WebSite",
    "name": "Ethan Kent\x27s Blog",
    
    "url": "https:\/\/ethankent.dev"
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Organization",
  "name": "",
  "url": "https:\/\/ethankent.dev"
  
  
  
  
}
</script>
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "item": {
          "@id": "https:\/\/ethankent.dev",
          "name": "home"
        }
    },{
        "@type": "ListItem",
        "position": 3,
        "item": {
          "@id": "https:\/\/ethankent.dev\/posts\/priors\/",
          "name": "Priors"
        }
    }]
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Article",
  "author": {
    "name" : "Ethan Kent"
  },
  "headline": "Priors",
  "description" : "There\x26rsquo;s a lyric in a They Might Be Giants song:\n Now you\x26rsquo;re the only one here,\nWho can tell me if it\x26rsquo;s true:\nThat you love me,\nAnd I love me.1\n The lyric is effective because it uses our expectations of rhyme scheme, parallelism, and reciprocity to have us all but certain that the final line of the verse will end with you. And the surprise serves a purpose: it uses the flouting of our expectations as a way of making us feel the potency of the narrator\x26rsquo;s self-centeredness.",
  "inLanguage" : "en",
  "wordCount":  673 ,
  "datePublished" : "2019-12-02T12:50:00",
  "dateModified" : "2019-12-02T12:50:00",
  "image" : "https:\/\/ethankent.dev",
  "keywords" : [ "" ],
  "mainEntityOfPage" : "https:\/\/ethankent.dev\/posts\/priors\/",
  "publisher" : {
    "@type": "Organization",
    "name" : "https:\/\/ethankent.dev",
    "logo" : {
        "@type" : "ImageObject",
        "url" : "https:\/\/ethankent.dev",
        "height" :  60 ,
        "width" :  60
    }
  }
}
</script>

<meta property="og:title" content="Priors" />
<meta property="og:description" content="There&rsquo;s a lyric in a They Might Be Giants song:
 Now you&rsquo;re the only one here,
Who can tell me if it&rsquo;s true:
That you love me,
And I love me.1
 The lyric is effective because it uses our expectations of rhyme scheme, parallelism, and reciprocity to have us all but certain that the final line of the verse will end with you. And the surprise serves a purpose: it uses the flouting of our expectations as a way of making us feel the potency of the narrator&rsquo;s self-centeredness.">
<meta property="og:url" content="https://ethankent.dev/posts/priors/" />
<meta property="og:type" content="website" />
<meta property="og:site_name" content="Ethan Kent&#39;s Blog" />

  <meta name="twitter:title" content="Priors" />
  <meta name="twitter:description" content="There&rsquo;s a lyric in a They Might Be Giants song:
 Now you&rsquo;re the only one here,
Who can tell me if it&rsquo;s true:
That you love me,
And I love me.1
 The lyric is effective because it uses …">
  <meta name="twitter:card" content="summary" />
  <meta name="generator" content="Hugo 0.59.1" />
  <link rel="alternate" href="https://ethankent.dev/index.xml" type="application/rss+xml" title="Ethan Kent&#39;s Blog"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css" integrity="sha384-9eLZqc9ds8eNjO3TmqPeYcDj8n+Qfa4nuSiGYa6DjLNcv9BtN69ZIulL9+8CqC9Y" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"><link rel="stylesheet" href="https://ethankent.dev/css/main.css" /><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" />
  <link rel="stylesheet" href="https://ethankent.dev/css/highlight.min.css" /><link rel="stylesheet" href="https://ethankent.dev/css/codeblock.css" /><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.css" integrity="sha384-h/L2W9KefUClHWaty3SLE5F/qvc4djlyR4qY3NUV5HGQBBW7stbcfff1+I/vmsHh" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/default-skin/default-skin.min.css" integrity="sha384-iD0dNku6PYSIQLyfTOpB06F2KCZJAKLOThS5HRe8b3ibhdEQ6eKsFf/EeFxdOt5R" crossorigin="anonymous">



  </head>
  <body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="https://ethankent.dev">Ethan Kent&#39;s Blog</a>
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
        

        

        
      </ul>
    </div>

    

  </div>
</nav>




    


<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>


  
  
  






  

  <header class="header-section ">
    
    <div class="intro-header no-img">
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
            <div class="posts-heading">
              
                <h1>Priors</h1>
              
              
                <hr class="small">
              
              
              
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>


    
<div class="container" role="main">
  <div class="row">
    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
      <article role="main" class="blog-post">
        

<p>There&rsquo;s a lyric in a They Might Be Giants song:</p>

<blockquote>
<p>Now you&rsquo;re the only one here,<br>
Who can tell me if it&rsquo;s true:<br>
That you love me,<br>
And I love me.<sup class="footnote-ref" id="fnref:Kiss-Me-Son-of-G"><a href="#fn:Kiss-Me-Son-of-G">1</a></sup></p>
</blockquote>

<p>The lyric is effective because it uses our expectations of rhyme scheme,
parallelism, and reciprocity to have us all but certain that the final line
of the verse will end with <em>you</em>. And the surprise serves a purpose: it uses
the flouting of our expectations as a way of making us feel the potency of
the narrator&rsquo;s self-centeredness.</p>

<p>The same thing happens when we read code: our expectations are set by
familiar patterns. When something confounds our expectations, we will likely
assume it serves a purpose. Sometimes our priors our so strong that—like an
optical illusion—we see what we expect rather than what is actually there.</p>

<p>In practice, that means that a departure from common patterns may present in
at least two ways:</p>

<ol>
<li>If the difference is something you notice but serves no purpose, you may
become confused, because you assume the difference <em>does</em> serve a purpose.</li>
<li>If the difference is subtle or your prior is strong enough, you may not
notice the difference.</li>
</ol>

<h2 id="departing-from-normal-patterns-for-no-reason-is-confusing">Departing from normal patterns for no reason is confusing.</h2>

<p>Consider this code:</p>

<pre><code class="language-ruby">def do_that_thing
  return :thingy_1 if @foo.bar == :baz
  @blip.thingy_kind
end
</code></pre>

<p>I would expect this code to be written using a very famous thing called an
<code>else</code> statement:</p>

<pre><code class="language-ruby">def do_that_thing
  if @foo.bar == :baz
    :thingy_1
  else
    @blip.thingy_kind
  end
end
</code></pre>

<p>or even</p>

<pre><code class="language-ruby">def do_that_thing
  @foo.bar == :baz ? :thingy_1 : @blip.thingy_kind
end
</code></pre>

<p>I also have the general prior that code should have as few execution paths as
possible, and expect that short-circuit returns will generally be used to
bypass significant amounts of code.</p>

<p>So the first code listing winds up taking some extra time to think through.
&ldquo;Hmm,&rdquo; I think, &ldquo;I wonder why this isn&rsquo;t an <code>if</code>/<code>else</code>. I must be missing
something here. This isn&rsquo;t a short-circuit that avoids a big chunk of code.
Is there something about the conditional that prevents it from working with
an <code>if</code>/<code>else</code>? No. Why is it like this? I guess there&rsquo;s no particular
reason. Weird. Wait, what was I about to do? I better check in on Slack.&rdquo;</p>

<h2 id="doing-something-important-in-a-subtle-unexpected-way-is-dangerous">Doing something important in a subtle, unexpected way is dangerous.</h2>

<p>I have seen this pattern several times:</p>

<pre><code class="language-ruby">def foo(my_arg)
  if (result = expensive_computation(my_arg))
    @my_orm.computed_value = result
  else
    MyLoggingBuddy.log_nobody_reads(&quot;It has all gone terribly wrong&quot;)
  end
end
</code></pre>

<p>My thinking here is &ldquo;Okay, check to see if <code>result</code> equals
<code>expensive_computation</code>. Wait, where is <code>result</code> defined? Is that a method
call? It can&rsquo;t be a local. Looks like there&rsquo;s a bug here, too: that&rsquo;s a
single equals sign. <em>Oh, wait</em>: is that intentional? Is this assigning the
result of calling <code>expensive_computation</code> to <code>result</code>, and then evaluating
<code>result</code> for truthiness? Ugh—I see <em>why</em> this is happening, and I guess I
vaguely remember that it&rsquo;s an idiom in Ruby to use parentheses in an <code>if</code>
statement if you&rsquo;re doing this, but that is super easy to miss.&rdquo;</p>

<p>My strong prior is that it is an extremely common error to use <code>=</code> instead of
<code>==</code> in a conditional. Another (albeit weaker) prior is that code will
generally separate distinct kinds of operations—avoiding things like
assignment within control flow.<sup class="footnote-ref" id="fnref:That-is-unless-l"><a href="#fn:That-is-unless-l">2</a></sup>
Here, things run so strongly against my priors that I may not even see what&rsquo;s
going on: my eyes don&rsquo;t see that single equals sign the first time around.</p>

<p><center>❧&nbsp;❧&nbsp;❧</center></p>

<p>If you do something obvious that differs from your reader&rsquo;s priors for no
particular reason, your reader will likely assume it <em>was</em> for good reason
and will waste time trying to figure out what that reason was. Even worse, if
you do something subtle that differs from you reader&rsquo;s priors for an
important reason, your reader may miss what&rsquo;s going on entirely, as we tend
to pay little attention to something familiar.</p>
<div class="footnotes">

<hr />

<ol>
<li id="fn:Kiss-Me-Son-of-G"><a href="https://youtu.be/gLcp8Dm-ejU?t=67"><em>Kiss Me, Son of God</em></a>, <em>Lincoln</em> (Bar/None Records 1988). <a class="footnote-return" href="#fnref:Kiss-Me-Son-of-G"><sup>[return]</sup></a></li>
<li id="fn:That-is-unless-l">That is, unless language constructs exist to do exactly that, as in <code>match</code> and <code>if let</code> statement in some languages. <a class="footnote-return" href="#fnref:That-is-unless-l"><sup>[return]</sup></a></li>
</ol>
</div>


        

        

        
      </article>

      
        <ul class="pager blog-pager">
          
            <li class="previous">
              <a href="https://ethankent.dev/posts/types_are_for_people/" data-toggle="tooltip" data-placement="top" title="Types Are for People, not Computers">&larr; Previous Post</a>
            </li>
          
          
        </ul>
      


      

    </div>
  </div>
</div>

      
<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links">
          
          
        </ul>
        <p class="credits copyright text-muted">
          
            
              Ethan Kent
            
          

          &nbsp;&bull;&nbsp;&copy;
          
            2019
          

          
            &nbsp;&bull;&nbsp;
            <a href="https://ethankent.dev">Ethan Kent&#39;s Blog</a>
          
        </p>
        
        <p class="credits theme-by text-muted">
          <a href="https://gohugo.io">Hugo v0.59.1</a> powered &nbsp;&bull;&nbsp; Theme <a href="https://github.com/halogenica/beautifulhugo">Beautiful Hugo</a> adapted from <a href="https://deanattali.com/beautiful-jekyll/">Beautiful Jekyll</a>
          
        </p>
      </div>
    </div>
  </div>
</footer><script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.js" integrity="sha384-K3vbOmF2BtaVai+Qk37uypf7VrgBubhQreNQe9aGsz9lB63dIFiQVlJbr92dw2Lx" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/contrib/auto-render.min.js" integrity="sha384-kmZOZB5ObwgQnS/DuDg6TScgOiWWBiVt0plIRkZCmE6rDZGrEOQeHM5PcHi+nyqe" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<script src="https://ethankent.dev/js/main.js"></script>
<script src="https://ethankent.dev/js/highlight.min.js"></script>
<script> hljs.initHighlightingOnLoad(); </script>
<script> $(document).ready(function() {$("pre.chroma").css("padding","0");}); </script><script> renderMathInElement(document.body); </script><script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.js" integrity="sha384-QELNnmcmU8IR9ZAykt67vGr9/rZJdHbiWi64V88fCPaOohUlHCqUD/unNN0BXSqy" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe-ui-default.min.js" integrity="sha384-m67o7SkQ1ALzKZIFh4CiTA8tmadaujiTa9Vu+nqPSwDOqHrDmxLezTdFln8077+q" crossorigin="anonymous"></script><script src="https://ethankent.dev/js/load-photoswipe.js"></script>









    
  </body>
</html>

